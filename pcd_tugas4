"""PCD_Tugas 4.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1pKjDsm6ZoiuOczYH0eiJq5RtAT5_C0uJ

Nama : Syachra Indyra Puteri<br>
NIM : 20220040282 <br>
Kelas : TI22E <br>
Matkul : Pengolahan Citra Digital (Tugas Sesi 4)
"""

import imageio.v2 as imageio
import numpy as np
from scipy import ndimage
import matplotlib.pyplot as plt

# Fungsi ekualisasi histogram
def histogram_equalization(image):
    # Hitung histogram
    histogram, bin_edges = np.histogram(image.flatten(), bins=256, range=(0, 255))
    # Hitung distribusi kumulatif
    cdf = histogram.cumsum()
    # Normalisasi CDF
    cdf_normalized = 255 * cdf / cdf[-1]
    # Menerapkan transformasi intensitas
    equalized_image = np.interp(image.flatten(), bin_edges[:-1], cdf_normalized)
    return equalized_image.reshape(image.shape)

# Load citra dalam mode grayscale
image = imageio.imread('/content/rapunzel.jpg', mode='L')

# Ekualisasi histogram
equalized_image = histogram_equalization(image)

# Visualisasi hasil
plt.figure(figsize=(12, 6))
plt.subplot(1, 2, 1)
plt.title("Citra Asli")
plt.imshow(image, cmap='gray')

plt.subplot(1, 2, 2)
plt.title("Citra Setelah Ekualisasi Histogram")
plt.imshow(equalized_image, cmap='gray')
plt.show()
